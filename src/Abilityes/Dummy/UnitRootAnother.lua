---
--- Generated by EmmyLua(https://github.com/EmmyLua)
--- Created by Bergi.
--- DateTime: 20.05.2021 16:43
---

function FindEnemyForEnsnare(data, xs, ys)
    local e = nil
    local result=false
   -- DestroyEffect(AddSpecialEffect("Abilities\\Spells\\NightElf\\Blink\\BlinkCaster.mdl", xs, ys))
    GroupEnumUnitsInRange(perebor, xs, ys, 250, nil)
    while true do
        e = FirstOfGroup(perebor)
        if e == nil then
            break
        end

        if UnitAlive(e) and IsUnitEnemy(e, GetOwningPlayer(data.UnitHero)) then
            --print("найден для сетки",GetUnitName(e))
            result=UnitRootAnother(data.UnitHero, e)
        end
        GroupRemoveUnit(perebor, e)
    end
    return result
end

function UnitRootAnother(unit, enemy)
    local x, y = GetUnitXY(unit)
    local dummy = CreateUnit(GetOwningPlayer(unit), DummyID, x, y, 0)
    UnitAddAbility(dummy, FourCC("A007"))
    UnitApplyTimedLife(dummy, FourCC('BTLF'), 2)
    return IssueTargetOrder(dummy, "ensnare", enemy)
end